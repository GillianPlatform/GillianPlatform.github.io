<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Instantiations/JavaScript/js2gil">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">JS-2-GIL and Test262 | Gillian</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://GillianPlatform.github.io/docs/Instantiations/JavaScript/js2gil"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JS-2-GIL and Test262 | Gillian"><meta data-rh="true" name="description" content="Coverage of JS-2-GIL"><meta data-rh="true" property="og:description" content="Coverage of JS-2-GIL"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://GillianPlatform.github.io/docs/Instantiations/JavaScript/js2gil"><link data-rh="true" rel="alternate" href="https://GillianPlatform.github.io/docs/Instantiations/JavaScript/js2gil" hreflang="en"><link data-rh="true" rel="alternate" href="https://GillianPlatform.github.io/docs/Instantiations/JavaScript/js2gil" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a3ed8088.css">
<link rel="preload" href="/assets/js/runtime~main.2f2e6ae5.js" as="script">
<link rel="preload" href="/assets/js/main.49227d6e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_full_white.svg" alt="Gillian logo, by Valentin Magnat" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_full_black.svg" alt="Gillian logo, by Valentin Magnat" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/quick-start">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/GillianPlatform/Gillian" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Development/install">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Instantiations/C/">Instantiations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Instantiations/C/">Gillian-C</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gillian-C&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Instantiations/JavaScript/">Gillian-JS</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gillian-JS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Instantiations/JavaScript/structure">Folder Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Instantiations/JavaScript/stest">Symbolic Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Instantiations/JavaScript/js2gil">JS-2-GIL and Test262</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Instantiations/JavaScript/papers">Publications</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Publications/Gillian Part I - PLDI 2020/">Publications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Instantiations</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Instantiations/JavaScript/"><span itemprop="name">Gillian-JS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JS-2-GIL and Test262</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>JS-2-GIL and Test262</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coverage-of-js-2-gil">Coverage of JS-2-GIL<a class="hash-link" href="#coverage-of-js-2-gil" title="Direct link to heading">​</a></h2><p>JS-2-GIL is a compiler from ECMAScript ES5 Strict to GIL. JS-2-GIL has broad coverage. It supports the entire core (chapters 8-14), with the exception of the <code>RegExp</code> literal, as well as all of the JavaScript built-in libraries except the following:</p><ul><li><code>Date</code>, <code>RegExp</code>, <code>JSON</code></li><li><code>Number.prototype.toFixed</code></li><li><code>String.fromCharCode</code></li><li><code>charCodeAt</code>, <code>localeCompare</code>, <code>match</code>, <code>replace</code>, <code>search</code>, <code>split</code>, <code>trim</code>, <code>toLocaleLowerCase</code>, <code>toLocaleUpperCase</code>, <code>toLowerCase</code>, <code>toUpperCase</code> (in <code>String.prototype</code>)</li><li><code>decodeURI</code>, <code>decodeURIComponent</code>, <code>encodeURI</code>, <code>encodeURIComponent</code>, <code>parseInt</code>, <code>parseFloat</code> (in the global object)</li></ul><p>Additionally, indirect <code>eval</code> is not supported, as it is meant to be executed as non-strict code. Furthermore, all <code>Function</code> constructor code runs as strict-mode code.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="correctness-of-js-2-gil">Correctness of JS-2-GIL<a class="hash-link" href="#correctness-of-js-2-gil" title="Direct link to heading">​</a></h2><p>The JS-2-GIL compiler can be split into two compilers: JS-2-JSIL, which compiles JavaScript to JSIL, the intermediate representation that we have used in <a href="/docs/Instantiations/JavaScript/papers#javert-javascript-verification-toolchain">[JaVerT]</a>/<a href="/docs/Instantiations/JavaScript/papers#cosette-symbolic-execution-for-javascript">[<!-- -->Cosette<!-- -->]</a>/<a href="/docs/Instantiations/JavaScript/papers#javert20-compositional-symbolic-execution-for-javascript">[<!-- -->JaVerT 2.0<!-- -->]</a>; and JSIL-2-GIL, the compiler from JSIL to GIL, the intermediate representation of Gillian.</p><p>Previously, we have tested JS-2-JSIL against <a href="https://github.com/tc39/test262/commit/91d06f" target="_blank" rel="noopener noreferrer">this commit (from May 30th 2016)</a> of Test262, the JavaScript official test suite. As this commit of Test262 targets ES6, we had to identify the subset of tests that are appropriate for JS-2-JSIL, as explained in detail in <a href="/docs/Instantiations/JavaScript/papers#javert-javascript-verification-toolchain">[<!-- -->JaVerT<!-- -->]</a>, obtaining 8797 applicable tests, of which JS-2-JSIL passes 100%.</p><p>We have initially tested JS-2-GIL successfully on the same 8797 tests and reported this in the submitted version of the paper. However, these tests were not systematically categorised and we were not able to automate the testing process to our satisfaction using the bulk testing mechanism of Gillian. For this reason, we have chosen to work with the latest version of Test262, forked <a href="https://github.com/GillianPlatform/javert-test262" target="_blank" rel="noopener noreferrer">here</a>, where each test comes with a precise description of its intended outcome. For example, a test that is supposed to fail at parsing time with a JavaScript native syntax error will contain the following in its header:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">negative:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  phase: parse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: SyntaxError</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We re-filter Test262 to find the applicable tests and run them using JS-2-GIL and the concrete semantics of Gillian-JS. The summary results are presented in the table below and will be included in the final version of the paper. A more detailed, per-folder breakdown is available further below.</p><table><thead><tr><th align="center"></th><th align="center">Language</th><th align="center">Built-ins</th><th align="center">Total</th></tr></thead><tbody><tr><td align="center"><strong>Total tests</strong></td><td align="center">3202</td><td align="center">7860</td><td align="center">11062</td></tr><tr><td align="center">Non-strict tests</td><td align="center">583</td><td align="center">136</td><td align="center">719</td></tr><tr><td align="center"><strong>Strict tests</strong></td><td align="center">2619</td><td align="center">7724</td><td align="center">10343</td></tr><tr><td align="center">Non-strict features</td><td align="center">41</td><td align="center">50</td><td align="center">91</td></tr><tr><td align="center">For unimplemented features</td><td align="center">17</td><td align="center">1182</td><td align="center">1199</td></tr><tr><td align="center">Using unimplemented features</td><td align="center">23</td><td align="center">12</td><td align="center">35</td></tr><tr><td align="center">ES6+</td><td align="center">3</td><td align="center">2</td><td align="center">5</td></tr><tr><td align="center"><strong>Applicable</strong></td><td align="center">2535</td><td align="center">6748</td><td align="center">9013</td></tr><tr><td align="center">Passing</td><td align="center">2530</td><td align="center">6745</td><td align="center">9005</td></tr><tr><td align="center">Failing</td><td align="center">5</td><td align="center">3</td><td align="center">8</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-table-columns">Explanation: Table Columns<a class="hash-link" href="#explanation-table-columns" title="Direct link to heading">​</a></h3><ul><li><strong>Language</strong>: tests for the core language (chapters 8-14 of the <a href="https://www.ecma-international.org/ecma-262/5.1/" target="_blank" rel="noopener noreferrer">ECMAScript ES5 standard</a>).</li><li><strong>Built-ins</strong>: tests for the built-in libraries (chapter 15 of the <a href="https://www.ecma-international.org/ecma-262/5.1/" target="_blank" rel="noopener noreferrer">ECMAScript ES5 standard</a>).</li><li><strong>Total</strong>: all tests.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-table-rows">Explanation: Table Rows<a class="hash-link" href="#explanation-table-rows" title="Direct link to heading">​</a></h3><ul><li><strong>Total tests</strong>: all tests.</li><li><strong>Non-strict tests</strong> (filtered out): tests that should be run only in non-strict mode. They contain the <code>flags: [noStrict]</code> directive and are filtered out automatically by our bulk testing mechanism.</li><li><strong>Strict tests</strong>: tests that should be run in strict mode.</li><li><strong>Non-strict features</strong> (filtered out): tests that combine strict and non-strict mode, using either indirect eval or the non-strict <code>Function</code> constructor (91 tests, list available in the <code>non_strict_tests</code> variable of <a href="https://github.com/GillianPlatform/Gillian/blob/master/Gillian-JS/lib/Test262/Test262_filtering.ml" target="_blank" rel="noopener noreferrer"><code>test262_filtering.ml</code></a>).</li><li><strong>For unimplemented features</strong> (filtered out): tests that test unimplemented features, such as the<code>JSON</code> library (1205 tests, list available in the <code>tests_for_unimplemented_features</code> variable of <a href="https://github.com/GillianPlatform/Gillian/blob/master/Gillian-JS/lib/Test262/Test262_filtering.ml" target="_blank" rel="noopener noreferrer"><code>test262_filtering.ml</code></a>). Note that the structural tests for some of these features still pass, as we have the appropriate stubs in the initial heap.</li><li><strong>Using unimplemented features</strong> (filtered out): tests that use unimplemented features to test behaviours of implemented features, with the most prominent examples being the <code>Date</code> constructor and <code>RegExp</code> literals (29 tests, list available in the <code>tests_using_unimplemented_features</code> variable of <a href="https://github.com/GillianPlatform/Gillian/blob/master/Gillian-JS/lib/Test262/Test262_filtering.ml" target="_blank" rel="noopener noreferrer"><code>test262_filtering.ml</code></a>).</li><li><strong>ES6+</strong> (filtered out): tests that use behaviours beyond ES5 (5 tests, list available in the <code>es6_tests</code> variable of <a href="https://github.com/GillianPlatform/Gillian/blob/master/Gillian-JS/lib/Test262/Test262_filtering.ml" target="_blank" rel="noopener noreferrer"><code>test262_filtering.ml</code></a>). For example, two language tests test for the ES6 completion of the <code>if</code> statement (returns <code>undefined</code> instead of the ES5 <code>empty</code>), one language test uses a function declaration in statement position (disallowed in ES5), and two built-in tests require a specific ordering of object keys (implementation-dependent in ES5).</li><li><strong>Applicable</strong>: the number of tests applicable to JS-2-GIL.</li><li><strong>Passing</strong>: the number of tests passing.</li><li><strong>Failing</strong>: the number of tests failing.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-failing-tests">Explanation: Failing Tests<a class="hash-link" href="#explanation-failing-tests" title="Direct link to heading">​</a></h3><p>The following eight tests</p><ul><li><code>test262/test/language/line-terminators/7.3-6.js</code></li><li><code>test262/test/language/line-terminators/7.3-5.js</code></li><li><code>test262/test/language/line-terminators/7.3-15.js</code></li><li><code>test262/test/language/line-terminators/invalid-string-cr.js</code></li><li><code>test262/test/language/source-text/6.1.js</code></li><li><code>test262/test/built-ins/Number/S9.3.1_A3_T1.js</code></li><li><code>test262/test/built-ins/Number/S9.3.1_A3_T2.js</code></li><li><code>test262/test/built-ins/Number/S9.3.1_A2.js</code></li></ul><p>fail due to a discrepancy between how Unicode characters are treated in JavaScript (either UCS-2 or UTF-16) and OCaml (sequences of bytes). One solution would be to move to strings provided by the <a href="http://camomile.sourceforge.net/" target="_blank" rel="noopener noreferrer"><code>Camomile</code></a> library instead of the native OCaml strings.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reproducing-the-results">Reproducing the Results<a class="hash-link" href="#reproducing-the-results" title="Direct link to heading">​</a></h3><ol><li>Clone our <a href="https://github.com/GillianPlatform/javert-test262" target="_blank" rel="noopener noreferrer">forked Test262 repository</a> to a folder on your machine. Inside that folder, you can find the Test262 tests in the <code>test</code> subfolder. In particular, <code>test/language</code> contains the core language tests, whereas <code>test/built-ins</code> contains the tests for the built-in libraries.</li><li>To run all of the tests, execute the following command inside your Gillian folder:</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">esy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">esy x javert bulk-exec </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">relative path to your Test262 folder</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">/test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, we normally clone Test262 in the same folder as the Gillian project and change its folder name from <code>javert-test262</code> to <code>test262</code>. We then run all of the tests by executing the following commands from within the <code>Gillian</code> folder:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/GillianPlatform/javert-test262.git test262</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> Gillian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">esy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">esy x javert bulk-exec </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/test262/test</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The testing should take approximately thirty minutes. The bulk tester will actively report progress, folder-by-folder, and signal any test failures encountered. In the end, a list of all failed tests (the eight given above) will be printed.</p><ol><li>If you would like to test a specific subfolder of the test suite, simply add it to the test path. For example, to run only the tests for <code>Array.prototype.reduce</code>, execute</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">esy x javert bulk-exec </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/test262/test/built-ins/Array/prototype/reduce/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="4"><li>If you would like to examine the filtered tests, you can find them in <a href="https://github.com/GillianPlatform/Gillian/blob/master/Gillian-JS/lib/Test262/Test262_filtering.ml" target="_blank" rel="noopener noreferrer"><code>test262_filtering.ml</code></a>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-per-folder-breakdown-language">Detailed Per-Folder Breakdown: Language<a class="hash-link" href="#detailed-per-folder-breakdown-language" title="Direct link to heading">​</a></h3><table><thead><tr><th align="center"></th><th align="center">arguments-object</th><th align="center">asi</th><th align="center">comments</th><th align="center">directive-prologue</th><th align="center">eval-code</th><th align="center">expressions</th><th align="center">function-code</th><th align="center">future-reserved-words</th><th align="center">global-code</th><th align="center">identifier-resolution</th><th align="center">identifiers</th><th align="center">keywords</th><th align="center">line-terminators</th><th align="center">literals</th><th align="center">punctuators</th><th align="center">reserved-words</th><th align="center">source-text</th><th align="center">statements</th><th align="center">types</th><th align="center">white-space</th><th align="center">Total</th></tr></thead><tbody><tr><td align="center"><strong>All tests</strong></td><td align="center">46</td><td align="center">101</td><td align="center">18</td><td align="center">62</td><td align="center">58</td><td align="center">1469</td><td align="center">212</td><td align="center">55</td><td align="center">3</td><td align="center">11</td><td align="center">49</td><td align="center">25</td><td align="center">41</td><td align="center">145</td><td align="center">11</td><td align="center">13</td><td align="center">1</td><td align="center">733</td><td align="center">109</td><td align="center">40</td><td align="center">3202</td></tr><tr><td align="center"><strong>Non-strict tests</strong></td><td align="center">12</td><td align="center">0</td><td align="center">0</td><td align="center">57</td><td align="center">4</td><td align="center">153</td><td align="center">107</td><td align="center">7</td><td align="center">2</td><td align="center">5</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">227</td><td align="center">9</td><td align="center">0</td><td align="center">583</td></tr><tr><td align="center"><strong>Strict tests</strong></td><td align="center">34</td><td align="center">101</td><td align="center">18</td><td align="center">5</td><td align="center">54</td><td align="center">1316</td><td align="center">105</td><td align="center">48</td><td align="center">1</td><td align="center">6</td><td align="center">49</td><td align="center">25</td><td align="center">41</td><td align="center">145</td><td align="center">11</td><td align="center">13</td><td align="center">1</td><td align="center">506</td><td align="center">100</td><td align="center">40</td><td align="center">2619</td></tr><tr><td align="center"><strong>Non-strict features</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">25</td><td align="center">1</td><td align="center">5</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">10</td><td align="center">0</td><td align="center">0</td><td align="center">41</td></tr><tr><td align="center"><strong>For unimplemented features</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">17</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">17</td></tr><tr><td align="center"><strong>Using unimplemented features</strong></td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">0</td><td align="center">0</td><td align="center">3</td><td align="center">4</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">12</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">0</td><td align="center">0</td><td align="center">23</td></tr><tr><td align="center"><strong>ES6+</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">3</td><td align="center">0</td><td align="center">0</td><td align="center">3</td></tr><tr><td align="center"><strong>Applicable</strong></td><td align="center">34</td><td align="center">101</td><td align="center">16</td><td align="center">5</td><td align="center">29</td><td align="center">1312</td><td align="center">96</td><td align="center">48</td><td align="center">1</td><td align="center">6</td><td align="center">49</td><td align="center">25</td><td align="center">41</td><td align="center">116</td><td align="center">11</td><td align="center">13</td><td align="center">1</td><td align="center">491</td><td align="center">100</td><td align="center">40</td><td align="center">2535</td></tr><tr><td align="center"><strong>Passing</strong></td><td align="center">34</td><td align="center">101</td><td align="center">16</td><td align="center">5</td><td align="center">29</td><td align="center">1312</td><td align="center">96</td><td align="center">48</td><td align="center">1</td><td align="center">6</td><td align="center">49</td><td align="center">25</td><td align="center">37</td><td align="center">116</td><td align="center">11</td><td align="center">13</td><td align="center">0</td><td align="center">491</td><td align="center">100</td><td align="center">40</td><td align="center">2530</td></tr><tr><td align="center"><strong>Failing</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">4</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">5</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-per-folder-breakdown-built-ins">Detailed Per-Folder Breakdown: Built-ins<a class="hash-link" href="#detailed-per-folder-breakdown-built-ins" title="Direct link to heading">​</a></h3><table><thead><tr><th align="center"></th><th align="center">Array</th><th align="center">Boolean</th><th align="center">Date</th><th align="center">decodeURI</th><th align="center">decodeURIComponent</th><th align="center">encodeURI</th><th align="center">encodeURIComponent</th><th align="center">Error</th><th align="center">eval</th><th align="center">Function</th><th align="center">global</th><th align="center">Infinity</th><th align="center">isFinite</th><th align="center">isNan</th><th align="center">JSON</th><th align="center">Math</th><th align="center">NaN</th><th align="center">Number</th><th align="center">Object</th><th align="center">parseFloat</th><th align="center">parseInt</th><th align="center">RegExp</th><th align="center">String</th><th align="center">undefined</th><th align="center">Total</th></tr></thead><tbody><tr><td align="center"><strong>All tests</strong></td><td align="center">2171</td><td align="center">42</td><td align="center">430</td><td align="center">52</td><td align="center">52</td><td align="center">28</td><td align="center">28</td><td align="center">33</td><td align="center">7</td><td align="center">398</td><td align="center">31</td><td align="center">7</td><td align="center">2</td><td align="center">2</td><td align="center">90</td><td align="center">81</td><td align="center">7</td><td align="center">152</td><td align="center">2892</td><td align="center">40</td><td align="center">57</td><td align="center">501</td><td align="center">749</td><td align="center">8</td><td align="center">7860</td></tr><tr><td align="center"><strong>Non-strict tests</strong></td><td align="center">27</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">88</td><td align="center">4</td><td align="center">2</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">0</td><td align="center">7</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">3</td><td align="center">3</td><td align="center">136</td></tr><tr><td align="center"><strong>Strict tests</strong></td><td align="center">2144</td><td align="center">42</td><td align="center">430</td><td align="center">52</td><td align="center">52</td><td align="center">28</td><td align="center">28</td><td align="center">33</td><td align="center">7</td><td align="center">310</td><td align="center">27</td><td align="center">5</td><td align="center">2</td><td align="center">2</td><td align="center">90</td><td align="center">81</td><td align="center">5</td><td align="center">152</td><td align="center">2885</td><td align="center">40</td><td align="center">57</td><td align="center">501</td><td align="center">746</td><td align="center">5</td><td align="center">7724</td></tr><tr><td align="center"><strong>Non-strict features</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">50</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">50</td></tr><tr><td align="center"><strong>For unimplemented</strong></td><td align="center">0</td><td align="center">0</td><td align="center">17</td><td align="center">45</td><td align="center">45</td><td align="center">21</td><td align="center">21</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">81</td><td align="center">0</td><td align="center">0</td><td align="center">5</td><td align="center">5</td><td align="center">33</td><td align="center">50</td><td align="center">455</td><td align="center">404</td><td align="center">0</td><td align="center">1182</td></tr><tr><td align="center"><strong>Using unimplemented features</strong></td><td align="center">3</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">3</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">6</td><td align="center">0</td><td align="center">12</td></tr><tr><td align="center"><strong>ES6+</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">2</td></tr><tr><td align="center"><strong>Applicable</strong></td><td align="center">2141</td><td align="center">42</td><td align="center">413</td><td align="center">7</td><td align="center">7</td><td align="center">7</td><td align="center">7</td><td align="center">33</td><td align="center">7</td><td align="center">257</td><td align="center">27</td><td align="center">5</td><td align="center">2</td><td align="center">2</td><td align="center">9</td><td align="center">81</td><td align="center">5</td><td align="center">147</td><td align="center">2878</td><td align="center">7</td><td align="center">7</td><td align="center">46</td><td align="center">336</td><td align="center">5</td><td align="center">6748</td></tr><tr><td align="center"><strong>Passing</strong></td><td align="center">2141</td><td align="center">42</td><td align="center">413</td><td align="center">7</td><td align="center">7</td><td align="center">7</td><td align="center">7</td><td align="center">33</td><td align="center">7</td><td align="center">257</td><td align="center">27</td><td align="center">5</td><td align="center">2</td><td align="center">2</td><td align="center">9</td><td align="center">81</td><td align="center">5</td><td align="center">144</td><td align="center">2878</td><td align="center">7</td><td align="center">7</td><td align="center">46</td><td align="center">336</td><td align="center">5</td><td align="center">6745</td></tr><tr><td align="center"><strong>Failing</strong></td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">3</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">0</td><td align="center">3</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/GillianPlatform/GillianPlatform.github.io/edit/source/docs/Instantiations/JavaScript/js2gil.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Instantiations/JavaScript/stest"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Symbolic Testing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Instantiations/JavaScript/papers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Publications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#coverage-of-js-2-gil" class="table-of-contents__link toc-highlight">Coverage of JS-2-GIL</a></li><li><a href="#correctness-of-js-2-gil" class="table-of-contents__link toc-highlight">Correctness of JS-2-GIL</a><ul><li><a href="#explanation-table-columns" class="table-of-contents__link toc-highlight">Explanation: Table Columns</a></li><li><a href="#explanation-table-rows" class="table-of-contents__link toc-highlight">Explanation: Table Rows</a></li><li><a href="#explanation-failing-tests" class="table-of-contents__link toc-highlight">Explanation: Failing Tests</a></li><li><a href="#reproducing-the-results" class="table-of-contents__link toc-highlight">Reproducing the Results</a></li><li><a href="#detailed-per-folder-breakdown-language" class="table-of-contents__link toc-highlight">Detailed Per-Folder Breakdown: Language</a></li><li><a href="#detailed-per-folder-breakdown-built-ins" class="table-of-contents__link toc-highlight">Detailed Per-Folder Breakdown: Built-ins</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Gillian Team @ Imperial College London. Gillian and WISL logos by Valentin Magnat. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f2e6ae5.js"></script>
<script src="/assets/js/main.49227d6e.js"></script>
</body>
</html>