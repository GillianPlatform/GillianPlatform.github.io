<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Instantiations/C/stests">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Symbolic Testing | Gillian</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://GillianPlatform.github.io/docs/Instantiations/C/stests"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Symbolic Testing | Gillian"><meta data-rh="true" name="description" content="Writing Symbolic Tests"><meta data-rh="true" property="og:description" content="Writing Symbolic Tests"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://GillianPlatform.github.io/docs/Instantiations/C/stests"><link data-rh="true" rel="alternate" href="https://GillianPlatform.github.io/docs/Instantiations/C/stests" hreflang="en"><link data-rh="true" rel="alternate" href="https://GillianPlatform.github.io/docs/Instantiations/C/stests" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a3ed8088.css">
<link rel="preload" href="/assets/js/runtime~main.2f2e6ae5.js" as="script">
<link rel="preload" href="/assets/js/main.49227d6e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_full_white.svg" alt="Gillian logo, by Valentin Magnat" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo_full_black.svg" alt="Gillian logo, by Valentin Magnat" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/quick-start">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/GillianPlatform/Gillian" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quick-start">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Development/install">Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Instantiations/C/">Instantiations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/Instantiations/C/">Gillian-C</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gillian-C&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Instantiations/C/stests">Symbolic Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Instantiations/C/structure">Folder Structure</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/Instantiations/JavaScript/">Gillian-JS</a><button aria-label="Toggle the collapsible sidebar category &#x27;Gillian-JS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Publications/Gillian Part I - PLDI 2020/">Publications</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Instantiations</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/Instantiations/C/"><span itemprop="name">Gillian-C</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Symbolic Testing</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Symbolic Testing</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="writing-symbolic-tests">Writing Symbolic Tests<a class="hash-link" href="#writing-symbolic-tests" title="Direct link to heading">​</a></h2><p>The whole-program symbolic testing aspect of Gillian-C works in a close way to <a href="https://klee.github.io" target="_blank" rel="noopener noreferrer">Klee</a>&#x27;s.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="declaring-symbolic-variables">Declaring Symbolic Variables<a class="hash-link" href="#declaring-symbolic-variables" title="Direct link to heading">​</a></h3><p>In order to declare symbolic variables, we hijack the <code>__builtin_annot_intval</code> function of CompCert. An symbolic integer is declared in the following way:</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_annot_intval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;symb_int&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As Gillian-C is in its very early stage, it is impossible to declare variables that have undefined size in memory.</p><p>It is possible to declare a symbolic string of fixed size by declaring all of its components one by one. For example, for a string that contains one character:</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_annot_intval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;symb_int&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ASSUME</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">128</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> a </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token function" style="color:#d73a49">ASSUME</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">127</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> c_a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> str_a</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> c_a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="assumptions-and-assertions">Assumptions and Assertions<a class="hash-link" href="#assumptions-and-assertions" title="Direct link to heading">​</a></h3><p>For any <code>C</code> boolean expression <code>e</code>, it is possible to write:</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ASSUME</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">ASSERT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The expression <code>e</code> is compiled to commands (since C expressions can have side-effects but GIL expressions cannot).
Then, a final GIL expression will contain a <q>serialised C integer</q> (since <code>C</code> booleans are actually integers that have value 0 or 1).
A serialized C integer is a list of the form <code>{{ &quot;int&quot;, x }}</code> where <code>x</code> is a GIL number.
<code>ASSUME</code> will call the internal GIL <code>assume</code> in the form <code>assume(e = {{ &quot;int&quot;, 1 }})</code> which means <q>check that the obtained boolean expression is True</q>, otherwise, cut the branch.
<code>ASSERT</code> does the same as assume but calls the internal GIL <code>assert</code> instead.</p><p>As opposed to <a href="/docs/Instantiations/JavaScript/stest#assumptions-and-assertions">Gillian-JS</a>, we use C expressions directly, and not custom expressions. This benefits is that one does not have to learn a new syntax for writing tests. However, this causes the execution to branch a lot for. <code>ASSUME</code> will then cut any branch that we do not want. In Gillian-JS, given the complex control flow of JavaScript, there is a lot more branching happening, which can become quite difficult to handle. Also, in JavaScript, the very complex semantics of expressions can lead to behaviours that are not desired by the used, and providing a simpler expression syntax is more straightforward.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="symbolic-testing-of-collections-c">Symbolic Testing of Collections-C<a class="hash-link" href="#symbolic-testing-of-collections-c" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-results">Test results<a class="hash-link" href="#test-results" title="Direct link to heading">​</a></h3><p>We symbolically test <a href="https://github.com/srdja/Collections-C" target="_blank" rel="noopener noreferrer">Collections-C</a>, a real-world C data-structure library for C.
The results are presented in the table below, with each row containing:</p><ul><li>The name of the folder being tested, which also indicates the data structure in question</li><li>The number of tests</li><li>The total number of GIL commands executed during these tests</li><li>The total testing time (in seconds)</li></ul><table><thead><tr><th align="center">Data Structure</th><th align="center">Tests</th><th align="center">GIL Commands</th><th align="center">Time (s)</th></tr></thead><tbody><tr><td align="center"><strong>array</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>dequeue</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>list</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>pqueue</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>ring_buffer</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>slist</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>stack</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>treeset</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>treetable</strong></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Total</strong></td><td align="center"><strong>x</strong></td><td align="center"><strong>x</strong></td><td align="center"><strong>x</strong></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixes">Fixes<a class="hash-link" href="#fixes" title="Direct link to heading">​</a></h3><p>Symbolically testing Collections-C let to the following bug-fixing pull requests. They fix previously unknown bugs and usage of undefined behaviours:</p><ul><li><a href="https://github.com/srdja/Collections-C/pull/119" target="_blank" rel="noopener noreferrer">Fix buffer overflow</a> (bug)</li><li><a href="https://github.com/srdja/Collections-C/pull/122" target="_blank" rel="noopener noreferrer">Remove the usage of cc_comp_ptr</a> (undefined behaviour)</li><li><a href="https://github.com/srdja/Collections-C/pull/123" target="_blank" rel="noopener noreferrer">Test coincidentally passing while they should not</a> (bugs and undefined behaviours)</li><li><a href="https://github.com/srdja/Collections-C/pull/125" target="_blank" rel="noopener noreferrer">Fix overallocation</a> (bug)</li><li><a href="https://github.com/srdja/Collections-C/pull/126" target="_blank" rel="noopener noreferrer">Fix hashing function</a> (performance-reducing bug)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reproducing-the-results">Reproducing the Results<a class="hash-link" href="#reproducing-the-results" title="Direct link to heading">​</a></h3><p>For license reason, we do not include the Collections-C code in the Gillian repository.
There is an <a href="https://github.com/GillianPlatform/collections-c-for-gillian" target="_blank" rel="noopener noreferrer">external repository</a> that contains the Collections-C code adapted to testing in Gillian-C and Klee.</p><p>In order to clone it, simply run, from the Gillian folder:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/GillianPlatform/collections-c-for-gillian.git collection-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> Gillian</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are two ways of launching the tests:</p><ul><li>Using the <code>bulk-wpst</code> command of Gillian-C which has a nicer output (using Rely), but cannot run the tests in parallel.</li><li>Using a bash script that will call <code>gillian-c wpst</code> as many times as there are files to test, but supports parallel mode (this is the one we used for measures).</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-bulk-wpst">Using bulk-wpst<a class="hash-link" href="#using-bulk-wpst" title="Direct link to heading">​</a></h4><p>From the Gillian folder run:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">esy x gillian-c bulk-wpst </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/collections-c/for-gillian</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will see every test suites executing one by one. Two tests will fail, this is intended. They represent two of the bugs we&#x27;ve found and are explained <a href="#bug-tests">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-bash-script">Using the bash script<a class="hash-link" href="#using-the-bash-script" title="Direct link to heading">​</a></h4><p>From the Gillian folder, for each folder you want to test, use:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Gillian-C/scripts/testFolder.sh </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/collections-c/for-gillian/folder</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, to run the test suite related to singly-linked lists, run:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Gillian-C/scripts/testFolder.sh </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">/collections-c/for-gillian/slist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-array_test_removec-buffer-overflow-bug">The array_test_remove.c buffer overflow bug<a class="hash-link" href="#the-array_test_removec-buffer-overflow-bug" title="Direct link to heading">​</a></h3><p>This test corresponds to this pull request: <a href="https://github.com/srdja/Collections-C/pull/119" target="_blank" rel="noopener noreferrer">Fix buffer overflow</a>.
It is particularly interesting: the original test suite did not catch it. We thought that a concrete test with the right values would catch it, but it didn&#x27;t. The reason is that it overflowed but did not fail. It is therefore a <em>security issue</em>. However, our symbolic memory model cannot overflow, and the bug was caught.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-list_test_zipiteraddc-flawed-test">The list_test_zipIterAdd.c flawed test<a class="hash-link" href="#the-list_test_zipiteraddc-flawed-test" title="Direct link to heading">​</a></h3><p>This test is also interesting but for different reasons. The code it is testing (the <code>list_zip_iter_add</code> function) does not contain any bug.
However, the test itself did contain a bug but still passed. Here is why:</p><p>The test added two elements (<code>&quot;h&quot;</code> and <code>&quot;i&quot;</code>) in two separate lists at the index 2. It then tested that the elements actually appeared at the second index of their respective lists, in the following way:</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">list_index_of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> zero_if_ptr_eq</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">CHECK_EQUAL_C_INT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">list_index_of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">list1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> zero_if_ptr_eq</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">CHECK_EQUAL_C_INT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However, note that both tests are executed on <code>list1</code>! What happened then is that <code>list_index_of</code> was not finding <code>&quot;i&quot;</code> in <code>list1</code> because it wasn&#x27;t there, and therefore did not modify <code>index</code>. Since the first check was correct, the value of <code>index</code> was still <code>2</code> and the test passed anyway.</p><p>Our symbolic tests however, use symbolic 1-character strings, and assume <strong>the bare minimum about the input values</strong> to make them pass, in order to explore as many possible paths as possible.</p><p>Here, we replaced every one-character strings <code>&quot;X&quot;</code> with one-character symbolic string <code>str_X</code>. For the test to pass, it should be <em>enough</em> for <code>str_h</code> to be different from every element in <code>list1</code> and for <code>str_i</code> to be different from every element in <code>list2</code>. And this is exactly what we assumed. However, we never assume that <code>str_i</code> has to be different from every element in <code>list1</code> because it is not necessary for the test to pass.</p><p>However, here, the equality between every element of <code>list1</code> and <code>str_i</code> is tested. There is no indication as to the result of this test, so the execution branches. Therefore, there is a path created where <code>list_index_of(list1, str_i, zero_if_ptr_eq, &amp;index)</code> will assign <code>0</code> to index, and the test will fail.</p><p>This shows how symbolic testing helps writing <em>more robust</em> tests.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-per-folder-breakdown-collections-c">Detailed Per-Folder Breakdown: Collections-C<a class="hash-link" href="#detailed-per-folder-breakdown-collections-c" title="Direct link to heading">​</a></h3><table><thead><tr><th align="center"><strong>array</strong></th><th align="center">add</th><th align="center">addAt2</th><th align="center">contains</th><th align="center">deepCopy</th><th align="center">getAt</th><th align="center">indexOf</th><th align="center">iterAdd</th><th align="center">iterRemove</th><th align="center">iterReplace</th><th align="center">reduce</th><th align="center">remove</th><th align="center">removeAll</th><th align="center">removeAt</th><th align="center">reverse</th><th align="center">shallowCopy</th><th align="center">subarray</th><th align="center">zipIterAdd</th><th align="center">zipIterNext</th><th align="center">zipIterRemove</th><th align="center">zipIterReplace</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><table><thead><tr><th align="center"><strong>dequeue</strong></th><th align="center">addAt1</th><th align="center">addAt2</th><th align="center">addAt3</th><th align="center">addAt4</th><th align="center">addAt5</th><th align="center">addFirst</th><th align="center">addLast</th><th align="center">bufferExpansion</th><th align="center">capacity</th><th align="center">contains</th><th align="center">copyDeep</th><th align="center">copyShallow</th><th align="center">filter1</th><th align="center">filter2</th><th align="center">filter3</th><th align="center">filterMut1</th><th align="center">filterMut2</th><th align="center">filterMut3</th><th align="center">getAt</th><th align="center">getFirst</th><th align="center">getLast</th><th align="center">iterAdd</th><th align="center">iterNext</th><th align="center">iterRemove</th><th align="center">removeAll</th><th align="center">removeFirst</th><th align="center">removeLast</th><th align="center">reverse</th><th align="center">size</th><th align="center">trimCapacity</th><th align="center">zipIterAdd</th><th align="center">zipIterNext</th><th align="center">zipIterRemove</th><th align="center">zipIterReplace</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><table><thead><tr><th align="center"><strong>list</strong></th><th align="center">add</th><th align="center">addAll</th><th align="center">addAllAt</th><th align="center">addAt</th><th align="center">addFirst</th><th align="center">addLast</th><th align="center">contains</th><th align="center">copyDeep</th><th align="center">copyShallow</th><th align="center">filter1</th><th align="center">filter2</th><th align="center">getAt</th><th align="center">getLast</th><th align="center">indexOf</th><th align="center">iterAdd</th><th align="center">iterDescAdd</th><th align="center">iterDescRemove</th><th align="center">iterRemove</th><th align="center">mutFilter1</th><th align="center">mutFilter2</th><th align="center">new</th><th align="center">remove</th><th align="center">removeAll</th><th align="center">removeAt</th><th align="center">removeFirst</th><th align="center">removeLast</th><th align="center">replaceAt</th><th align="center">reverse</th><th align="center">splice</th><th align="center">spliceAt</th><th align="center">sublist</th><th align="center">toArray</th><th align="center">zipIterAdd</th><th align="center">zipIterNext</th><th align="center">zipIterRemove</th><th align="center">zipIterReplace</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>pqueue</strong></th><th align="center">enqueue</th><th align="center">pop</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>queue</strong></th><th align="center">enqueue</th><th align="center">iter</th><th align="center">poll</th><th align="center">zipIterNext</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>ring_buffer</strong></th><th align="center">capacity</th><th align="center">enqueue</th><th align="center">dequeue</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>slist</strong></th><th align="center">add</th><th align="center">addAll</th><th align="center">addAllAt</th><th align="center">addAt</th><th align="center">addFirst</th><th align="center">addLast</th><th align="center">contains</th><th align="center">copyDeep</th><th align="center">copyShallow</th><th align="center">filter1</th><th align="center">filter2</th><th align="center">filter3</th><th align="center">filterMut1</th><th align="center">filterMut2</th><th align="center">filterMut3</th><th align="center">get</th><th align="center">getFirst</th><th align="center">getLast</th><th align="center">indexOf</th><th align="center">iterAdd</th><th align="center">iterRemove</th><th align="center">new</th><th align="center">remove</th><th align="center">removeAll</th><th align="center">removeAt</th><th align="center">removeFirst</th><th align="center">removeLast</th><th align="center">replaceAt</th><th align="center">reverse</th><th align="center">splice</th><th align="center">spliceAt</th><th align="center">sublist</th><th align="center">toArray</th><th align="center">zipIterAdd</th><th align="center">zipIterNext</th><th align="center">zipIterRemove</th><th align="center">zipIterReplace</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>stack</strong></th><th align="center">pop</th><th align="center">push</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>treeset</strong></th><th align="center">add</th><th align="center">iterNext</th><th align="center">iterRemove</th><th align="center">remove</th><th align="center">removeAll</th><th align="center">size</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table><table><thead><tr><th align="center"><strong>treetable</strong></th><th align="center">add</th><th align="center">get</th><th align="center">getFirst</th><th align="center">getGreaterThan</th><th align="center">getLast</th><th align="center">getLessThan</th><th align="center">iterNext</th><th align="center">iterRemove</th><th align="center">remove</th><th align="center">removeAll</th><th align="center">removeFirst</th><th align="center">removeLast</th><th align="center">size</th><th align="center"><strong>Total</strong></th></tr></thead><tbody><tr><td align="center"><strong>GIL Commands</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Time(s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr><tr><td align="center"><strong>Klee Time (s)</strong></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center">0</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/GillianPlatform/GillianPlatform.github.io/edit/source/docs/Instantiations/C/stests.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Instantiations/C/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gillian-C</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Instantiations/C/structure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Folder Structure</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#writing-symbolic-tests" class="table-of-contents__link toc-highlight">Writing Symbolic Tests</a><ul><li><a href="#declaring-symbolic-variables" class="table-of-contents__link toc-highlight">Declaring Symbolic Variables</a></li><li><a href="#assumptions-and-assertions" class="table-of-contents__link toc-highlight">Assumptions and Assertions</a></li></ul></li><li><a href="#symbolic-testing-of-collections-c" class="table-of-contents__link toc-highlight">Symbolic Testing of Collections-C</a><ul><li><a href="#test-results" class="table-of-contents__link toc-highlight">Test results</a></li><li><a href="#fixes" class="table-of-contents__link toc-highlight">Fixes</a></li><li><a href="#reproducing-the-results" class="table-of-contents__link toc-highlight">Reproducing the Results</a></li><li><a href="#the-array_test_removec-buffer-overflow-bug" class="table-of-contents__link toc-highlight">The array_test_remove.c buffer overflow bug</a></li><li><a href="#the-list_test_zipiteraddc-flawed-test" class="table-of-contents__link toc-highlight">The list_test_zipIterAdd.c flawed test</a></li><li><a href="#detailed-per-folder-breakdown-collections-c" class="table-of-contents__link toc-highlight">Detailed Per-Folder Breakdown: Collections-C</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Gillian Team @ Imperial College London. Gillian and WISL logos by Valentin Magnat. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f2e6ae5.js"></script>
<script src="/assets/js/main.49227d6e.js"></script>
</body>
</html>