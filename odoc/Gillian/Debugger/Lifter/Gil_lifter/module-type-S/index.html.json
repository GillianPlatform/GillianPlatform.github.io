{"header":"<h1>Module type <code><span>Gil_lifter.S</span></code></h1>","type":"documentation","uses_katex":false,"breadcrumbs":[{"name":"Index","href":"../../../../../../index.html","kind":"leaf-page"},{"name":"gillian","href":"../../../../../index.html","kind":"page"},{"name":"Gillian","href":"../../../../index.html","kind":"module"},{"name":"Debugger","href":"../../../index.html","kind":"module"},{"name":"Lifter","href":"../../index.html","kind":"module"},{"name":"Gil_lifter","href":"../index.html","kind":"module"},{"name":"S","href":"#","kind":"module-type"}],"toc":[],"source_anchor":null,"preamble":"","content":"<div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-t\"><a href=\"#type-t\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> t</span></code></div><div class=\"spec-doc\"><p>The lifter's state</p></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-memory_error\"><a href=\"#type-memory_error\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> memory_error</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-tl_ast\"><a href=\"#type-tl_ast\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> tl_ast</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-init_data\"><a href=\"#type-init_data\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> init_data</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-pc_err\"><a href=\"#type-pc_err\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> pc_err</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-memory\"><a href=\"#type-memory\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> memory</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-cmd_report\"><a href=\"#type-cmd_report\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> cmd_report</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type anchored\" id=\"type-annot\"><a href=\"#type-annot\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> annot</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec type extension anchored\" id=\"extension-decl-Step\"><a href=\"#extension-decl-Step\" class=\"anchor\"></a><code><span><span class=\"keyword\">type</span> <span class=\"xref-unresolved\">Stdlib</span>.Effect.t += </span></code><ol><li id=\"extension-Step\" class=\"def variant extension anchored\"><a href=\"#extension-Step\" class=\"anchor\"></a><code><span>| </span><span><span class=\"extension\">Step</span> : <span>(<span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> option</span>\u000A        * <span><a href=\"../../../../Gil_syntax/Branch_case/index.html#type-t\">Gil_syntax.Branch_case.t</a> option</span>\u000A        * <a href=\"../../../../Gil_syntax/Branch_case/index.html#type-path\">Gil_syntax.Branch_case.path</a>)</span> <span class=\"arrow\">&#45;&gt;</span> <span><span><a href=\"#type-cmd_report\">cmd_report</a>\u000A                                            <span class=\"xref-unresolved\">Debugger_lifter__.Lifter_intf.Types.executed_cmd_data</span></span>\u000A                                            <span class=\"xref-unresolved\">Stdlib</span>.Effect.t</span></span></code></li></ol></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-init\"><a href=\"#val-init\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> init : \u000A  <span><span class=\"label\">proc_name</span>:string <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span class=\"label\">all_procs</span>:<span>string list</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><a href=\"#type-tl_ast\">tl_ast</a> option</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><span>(<a href=\"#type-annot\">annot</a>, int)</span> <a href=\"../../../../Gil_syntax/Prog/index.html#type-t\">Gil_syntax.Prog.t</a></span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span>(<a href=\"#type-t\">t</a> * <span>(<span>unit <span class=\"arrow\">&#45;&gt;</span></span> <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a>)</span>)</span> option</span></span></code></div><div class=\"spec-doc\"><p>Given a proc name, a tl_ast, and the data from the first executed GIL command, initialise the lifter's state and handle the first command.</p><p>Returns <code>None</code> if lifting is unsupported (i.e. if <code>tl_ast</code> is <code>None</code>).</p></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-init_exn\"><a href=\"#val-init_exn\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> init_exn : \u000A  <span><span class=\"label\">proc_name</span>:string <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span class=\"label\">all_procs</span>:<span>string list</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><a href=\"#type-tl_ast\">tl_ast</a> option</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><span>(<a href=\"#type-annot\">annot</a>, int)</span> <a href=\"../../../../Gil_syntax/Prog/index.html#type-t\">Gil_syntax.Prog.t</a></span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"#type-t\">t</a> * <span>(<span>unit <span class=\"arrow\">&#45;&gt;</span></span> <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a>)</span></span></code></div><div class=\"spec-doc\"><p>Exception-raising version of <a href=\"#val-init\"><code>init</code></a>.</p></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-dump\"><a href=\"#val-dump\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> dump : <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span> <span class=\"xref-unresolved\">Yojson</span>.Safe.t</span></code></div><div class=\"spec-doc\"><p>Gives a JSON representation of the lifter's state.</p><p>Used for debugging problems with the lifter.</p></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-step_over\"><a href=\"#val-step_over\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> step_over : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-step_in\"><a href=\"#val-step_in\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> step_in : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-step_out\"><a href=\"#val-step_out\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> step_out : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-step_back\"><a href=\"#val-step_back\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> step_back : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-step_branch\"><a href=\"#val-step_branch\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> step_branch : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><a href=\"../../../Utils/Exec_map/Packaged/index.html#type-branch_case\">Debugger_utils.Exec_map.Packaged.branch_case</a> option</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-continue\"><a href=\"#val-continue\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> continue : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-continue_back\"><a href=\"#val-continue_back\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> continue_back : \u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-get_matches_at_id\"><a href=\"#val-get_matches_at_id\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> get_matches_at_id : \u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../Utils/Match_map/index.html#type-matching\">Utils.Match_map.matching</a> list</span></span></code></div><div class=\"spec-doc\"><p>Gives a list of matches that occurred at the specified command.</p></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-memory_error_to_exception_info\"><a href=\"#val-memory_error_to_exception_info\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> memory_error_to_exception_info : \u000A  <span><span><span>(<a href=\"#type-memory_error\">memory_error</a>, <a href=\"#type-annot\">annot</a>, <a href=\"#type-tl_ast\">tl_ast</a>)</span>\u000A    <span class=\"xref-unresolved\">Debugger_lifter__.Lifter_intf.Types.memory_error_info</span></span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../Utils/index.html#type-exception_info\">Utils.exception_info</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-add_variables\"><a href=\"#val-add_variables\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> add_variables : \u000A  <span><span class=\"label\">store</span>:<span><span>(string * <a href=\"../../../../Gil_syntax/Expr/index.html#type-t\">Gil_syntax.Expr.t</a>)</span> list</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span class=\"label\">memory</span>:<a href=\"#type-memory\">memory</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span class=\"label\">is_gil_file</span>:bool <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span class=\"label\">get_new_scope_id</span>:<span>(<span>unit <span class=\"arrow\">&#45;&gt;</span></span> int)</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../Utils/Variable/index.html#type-ts\">Utils.Variable.ts</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"../../../Utils/Variable/index.html#type-scope\">Utils.Variable.scope</a> list</span></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-parse_and_compile_files\"><a href=\"#val-parse_and_compile_files\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> parse_and_compile_files : \u000A  <span><span class=\"label\">entrypoint</span>:string <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span>string list</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span>(<span><span>(<a href=\"#type-annot\">annot</a>, <a href=\"#type-tl_ast\">tl_ast</a>, <a href=\"#type-init_data\">init_data</a>)</span> <a href=\"../../../../Command_line/ParserAndCompiler/index.html#type-compiled_progs\">Command_line.ParserAndCompiler.compiled_progs</a></span>\u000A   * string)</span>\u000A    <a href=\"../../../../Utils/Gillian_result/index.html#type-t\">Utils.Gillian_result.t</a></span></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-init_manual\"><a href=\"#val-init_manual\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> init_manual : \u000A  <span>string <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span>string list</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"#type-t\">t</a>\u000A  * <span>(<span><span><span><a href=\"#type-cmd_report\">cmd_report</a> <span class=\"xref-unresolved\">Debugger_lifter__.Lifter_intf.Types.executed_cmd_data</span></span> option</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span>unit <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> * <a href=\"../../../Utils/index.html#type-stop_reason\">Utils.stop_reason</a>)</span></span></code></div><div class=\"spec-doc\"><p>A version of <code>init</code> that allows manually supplying exec_data instead of triggering the Step effect - this is used when Gil is not the primary lifter.</p></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-handle_cmd\"><a href=\"#val-handle_cmd\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> handle_cmd : \u000A  <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><a href=\"../../../../Gil_syntax/Branch_case/index.html#type-t\">Gil_syntax.Branch_case.t</a> option</span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><span><a href=\"#type-cmd_report\">cmd_report</a> <span class=\"xref-unresolved\">Debugger_lifter__.Lifter_intf.Types.executed_cmd_data</span></span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  unit</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-path_of_id\"><a href=\"#val-path_of_id\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> path_of_id : <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span> <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span> <a href=\"../../../../Gil_syntax/Branch_case/index.html#type-path\">Gil_syntax.Branch_case.path</a></span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-should_skip_cmd\"><a href=\"#val-should_skip_cmd\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> should_skip_cmd : \u000A  <span><span><a href=\"#type-cmd_report\">cmd_report</a> <span class=\"xref-unresolved\">Debugger_lifter__.Lifter_intf.Types.executed_cmd_data</span></span> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span>\u000A  bool</span></code></div></div><div class=\"odoc-spec\"><div class=\"spec value anchored\" id=\"val-cases_at_id\"><a href=\"#val-cases_at_id\" class=\"anchor\"></a><code><span><span class=\"keyword\">val</span> cases_at_id : <span><a href=\"../../../../Logging/Report_id/index.html#type-t\">Logging.Report_id.t</a> <span class=\"arrow\">&#45;&gt;</span></span> <span><a href=\"#type-t\">t</a> <span class=\"arrow\">&#45;&gt;</span></span> <span><a href=\"../../../../Gil_syntax/Branch_case/index.html#type-t\">Gil_syntax.Branch_case.t</a> list</span></span></code></div></div>"}