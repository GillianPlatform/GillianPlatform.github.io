<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CallStack (gillian.Engine.GInterpreter.Make.CallStack)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">gillian</a> &#x00BB; <a href="../../../index.html">Engine</a> &#x00BB; <a href="../../index.html">GInterpreter</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; CallStack</nav><header class="odoc-preamble"><h1>Module <code><span>Make.CallStack</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-vt"><a href="#type-vt" class="anchor"></a><code><span><span class="keyword">type</span> vt</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-store_t"><a href="#type-store_t" class="anchor"></a><code><span><span class="keyword">type</span> store_t</span></code></div></div><p>A call stack is a list records, each of which contains 1) identifier of the current procedure (string) 2) arguments of the current procedure (list of values) 3) calling store 4) a list of loop invariant identifiers 5) variable that should hold the return value 6) index of the calling procedure from whence the procedure was called 7) normal continuation index in the calling procedure 8) optional error continuation index in the calling procedure</p><div class="odoc-spec"><div class="spec type anchored" id="type-stack_element"><a href="#type-stack_element" class="anchor"></a><code><span><span class="keyword">type</span> stack_element</span><span> = </span><span>{</span></code><ol><li id="type-stack_element.pid" class="def record field anchored"><a href="#type-stack_element.pid" class="anchor"></a><code><span>pid : string;</span></code></li><li id="type-stack_element.arguments" class="def record field anchored"><a href="#type-stack_element.arguments" class="anchor"></a><code><span>arguments : <span><a href="#type-vt">vt</a> list</span>;</span></code></li><li id="type-stack_element.store" class="def record field anchored"><a href="#type-stack_element.store" class="anchor"></a><code><span>store : <span><a href="#type-store_t">store_t</a> option</span>;</span></code></li><li id="type-stack_element.loop_ids" class="def record field anchored"><a href="#type-stack_element.loop_ids" class="anchor"></a><code><span>loop_ids : <span>string list</span>;</span></code></li><li id="type-stack_element.ret_var" class="def record field anchored"><a href="#type-stack_element.ret_var" class="anchor"></a><code><span>ret_var : <a href="../../../../Gillian/Gil_syntax/Var/index.html#type-t">Gillian.Gil_syntax.Var.t</a>;</span></code></li><li id="type-stack_element.call_index" class="def record field anchored"><a href="#type-stack_element.call_index" class="anchor"></a><code><span>call_index : int;</span></code></li><li id="type-stack_element.continue_index" class="def record field anchored"><a href="#type-stack_element.continue_index" class="anchor"></a><code><span>continue_index : int;</span></code></li><li id="type-stack_element.error_index" class="def record field anchored"><a href="#type-stack_element.error_index" class="anchor"></a><code><span>error_index : <span>int option</span>;</span></code></li></ol><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_element_to_yojson"><a href="#val-stack_element_to_yojson" class="anchor"></a><code><span><span class="keyword">val</span> stack_element_to_yojson : <span><a href="#type-stack_element">stack_element</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Yojson</span>.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_element_of_yojson"><a href="#val-stack_element_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> stack_element_of_yojson : 
  <span><span class="xref-unresolved">Yojson</span>.Safe.t <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-stack_element">stack_element</a> <span class="xref-unresolved">Ppx_deriving_yojson_runtime</span>.error_or</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span><a href="#type-stack_element">stack_element</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_yojson"><a href="#val-to_yojson" class="anchor"></a><code><span><span class="keyword">val</span> to_yojson : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Yojson</span>.Safe.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_yojson"><a href="#val-of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> of_yojson : <span><span class="xref-unresolved">Yojson</span>.Safe.t <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="xref-unresolved">Ppx_deriving_yojson_runtime</span>.error_or</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-push"><a href="#val-push" class="anchor"></a><code><span><span class="keyword">val</span> push : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>pid:string <span class="arrow">&#45;&gt;</span></span>
  <span>arguments:<span><a href="#type-vt">vt</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?store:<a href="#type-store_t">store_t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>loop_ids:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>ret_var:<a href="../../../../Gillian/Gil_syntax/Var/index.html#type-t">Gillian.Gil_syntax.Var.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>call_index:int <span class="arrow">&#45;&gt;</span></span>
  <span>continue_index:int <span class="arrow">&#45;&gt;</span></span>
  <span>?error_index:int <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_cur_proc_id"><a href="#val-get_cur_proc_id" class="anchor"></a><code><span><span class="keyword">val</span> get_cur_proc_id : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get current procedure identifier</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Identifier of the procedure currently being executed</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_cur_args"><a href="#val-get_cur_args" class="anchor"></a><code><span><span class="keyword">val</span> get_cur_args : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-vt">vt</a> list</span></span></code></div><div class="spec-doc"><p>Get current arguments</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Arguments of the procedure currently being executed</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_loop_ids"><a href="#val-get_loop_ids" class="anchor"></a><code><span><span class="keyword">val</span> get_loop_ids : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Get current loop identifiers</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>List of current loop identifiers</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Call stack copy</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>Copy of the given call stack</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_cur_procs"><a href="#val-get_cur_procs" class="anchor"></a><code><span><span class="keyword">val</span> get_cur_procs : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>All the procedure names in order in the callstack</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-recursive_depth"><a href="#val-recursive_depth" class="anchor"></a><code><span><span class="keyword">val</span> recursive_depth : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Call stack recursive depth</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Target call stack</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">pid</span> <p>Identified of the target procedure</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>The number of times the pid been recursively called</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Call stack pretty printer</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">fmt</span> <p>Formatter</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cs</span> <p>Call stack to pretty print</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>unit</p></li></ul></div></div></div></body></html>